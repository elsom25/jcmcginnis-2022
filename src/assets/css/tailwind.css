@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Enable class-based dark mode */
@custom-variant dark (&:where(.dark, .dark *));

/* Prevent layout shift from scrollbar appearance */
html {
  scrollbar-gutter: stable;
}

/* Content sources for Tailwind to scan */
@source "../../**/*.{erb,md}";

/* ==========================================================================
   DESIGN SYSTEM: "The Challenger's Manifesto"

   A bold, editorial aesthetic that reflects confidence and authenticity.
   Warm tones, generous whitespace, and distinctive typography.
   ========================================================================== */

@theme {
  /* Typography - Editorial pairing */
  --font-sans:
    "Inter var", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-serif: "Fraunces", "Newsreader", "Georgia", serif;

  /* Color Palette - Warm, confident, human
     Primary: Terracotta/Rust - confident, warm, distinctive
     Accent: Amber - energy, CTAs
     Neutrals: Warm stone scale */

  /* Primary brand color - terracotta */
  --color-brand-50: #fdf4f3;
  --color-brand-100: #fce8e6;
  --color-brand-200: #f9d5d1;
  --color-brand-300: #f4b5ae;
  --color-brand-400: #eb8a7f;
  --color-brand-500: #dd6557;
  --color-brand-600: #c84a3b;
  --color-brand-700: #a83c2f;
  --color-brand-800: #8b352b;
  --color-brand-900: #743229;
  --color-brand-950: #3f1712;

  /* Accent - warm amber (full scale) */
  --color-accent-50: #fffbeb;
  --color-accent-100: #fef3c7;
  --color-accent-200: #fde68a;
  --color-accent-300: #fcd34d;
  --color-accent-400: #fbbf24;
  --color-accent-500: #f59e0b;
  --color-accent-600: #d97706;
  --color-accent-700: #b45309;
  --color-accent-800: #92400e;
  --color-accent-900: #78350f;
  --color-accent-950: #451a03;

  /* Backgrounds - warm neutrals */
  --color-bg-light: #faf8f6;
  --color-bg-dark: #1a1614;
  --color-bg-dark-elevated: #231f1c;
}

/* ==========================================================================
   Custom Fonts
   ========================================================================== */

/* Fraunces - expressive editorial serif */
@font-face {
  font-family: "Fraunces";
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("https://fonts.gstatic.com/s/fraunces/v31/6NUh8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib14c7qv8o.woff2")
    format("woff2");
}

@font-face {
  font-family: "Fraunces";
  font-style: italic;
  font-weight: 100 900;
  font-display: swap;
  src: url("https://fonts.gstatic.com/s/fraunces/v31/6NVf8FyLNQOQZAnv9ZwNjucMHVn85Ni7emAe9lKqZTnbB-gzTK0K1ChJdt9vIVYX9G37lvUtV0FABVR8Fw.woff2")
    format("woff2");
}

/* ==========================================================================
   View Transitions
   ========================================================================== */

@view-transition {
  navigation: auto;
}

::view-transition-old(root) {
  animation: vt-fade 180ms ease-out;
}

::view-transition-new(root) {
  animation: vt-fade 180ms ease-in reverse;
}

@keyframes vt-fade {
  to {
    opacity: 0;
  }
}

/* ==========================================================================
   Animation Utilities
   ========================================================================== */

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@utility animate-fade-in {
  animation: fadeIn 500ms ease-out both;
}

@utility animate-fade-in-up {
  animation: fadeInUp 600ms ease-out both;
}

@utility animate-slide-in-left {
  animation: slideInLeft 500ms ease-out both;
}

/* Staggered animation using CSS custom property */
@utility animate-stagger {
  animation-delay: calc(var(--stagger, 0) * 80ms);
}

/* Fixed delay utilities */
@utility animate-delay-1 {
  animation-delay: 100ms;
}
@utility animate-delay-2 {
  animation-delay: 200ms;
}
@utility animate-delay-3 {
  animation-delay: 300ms;
}
@utility animate-delay-4 {
  animation-delay: 400ms;
}
@utility animate-delay-5 {
  animation-delay: 500ms;
}

/* Floating animation for decorative elements */
@keyframes float {
  0%,
  100% {
    transform: translateY(0) rotate(12deg);
  }
  50% {
    transform: translateY(-20px) rotate(15deg);
  }
}

@keyframes float-delayed {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

@utility animate-float {
  animation: float 6s ease-in-out infinite;
}

@utility animate-float-delayed {
  animation: float-delayed 8s ease-in-out infinite;
  animation-delay: 2s;
}

/* ==========================================================================
   Card Hover Animations - Subtle, refined interactions
   ========================================================================== */

/* Card lift effect - subtle hover lift */
.card-lift {
  transition:
    transform 300ms ease-out,
    box-shadow 300ms ease-out;
}

.group:hover .card-lift {
  transform: translateY(-4px);
}

/* Number badge subtle scale on hover */
.card-badge {
  transition: transform 300ms ease-out;
}

.group:hover .card-badge {
  transform: scale(1.02);
}

/* Icon subtle shift on hover */
.card-icon {
  transition: transform 300ms ease-out;
}

.group:hover .card-icon {
  transform: translateY(-2px);
}

/* ==========================================================================
   Typography Utilities
   ========================================================================== */

/* Prose quoteless - removes blockquote decorations */
@utility prose-quoteless {
  & :where(blockquote p:first-of-type)::before {
    content: none;
  }
  & :where(blockquote p:first-of-type)::after {
    content: none;
  }
}

/* Gradient text utility */
@utility text-gradient {
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Hero display — for page hero headers (extra large) */
@utility text-hero {
  font-family: var(--font-serif);
  font-weight: 600;
  letter-spacing: -0.025em;
  line-height: 0.95;
}

/* Display heading - for section headers */
@utility text-display {
  font-family: var(--font-serif);
  font-weight: 500;
  letter-spacing: -0.02em;
  line-height: 1.1;
}

/* Editorial subhead */
@utility text-subhead {
  font-family: var(--font-serif);
  font-weight: 400;
  font-style: italic;
  letter-spacing: 0.01em;
}

/* Section eyebrow — for labels above sections */
@utility text-eyebrow {
  font-family:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;
  font-size: 0.75rem;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

/* Code highlighting (syntax highlighting wrapper) */
.highlight {
  @apply whitespace-pre-wrap font-mono;
}

/* ==========================================================================
   Text Selection Styling
   ========================================================================== */

/* Light mode selection - brand tint */
::selection {
  background-color: rgba(221, 101, 87, 0.25);
  color: var(--color-stone-900);
}

::-moz-selection {
  background-color: rgba(221, 101, 87, 0.25);
  color: var(--color-stone-900);
}

/* Dark mode selection - deeper brand with light text */
:is(.dark) ::selection {
  background-color: rgba(221, 101, 87, 0.4);
  color: var(--color-stone-100);
}

:is(.dark) ::-moz-selection {
  background-color: rgba(221, 101, 87, 0.4);
  color: var(--color-stone-100);
}

/* Selection in accent zones - inverted for contrast */
.accent-zone ::selection {
  background-color: rgba(251, 191, 36, 0.4);
  color: white;
}

.accent-zone ::-moz-selection {
  background-color: rgba(251, 191, 36, 0.4);
  color: white;
}

/* ==========================================================================
   Component Utilities
   ========================================================================== */

/* Header accent bar gradient - warmer */
@utility bg-accent-gradient {
  background: linear-gradient(
    90deg,
    var(--color-accent-500) 0%,
    var(--color-brand-500) 50%,
    var(--color-brand-700) 100%
  );
}

/* Accent link style */
@utility link-accent {
  @apply font-medium text-brand-600 dark:text-brand-400 underline decoration-1 underline-offset-2 decoration-brand-400/50 hover:decoration-brand-600 dark:hover:decoration-brand-400 transition-colors;
}

/* Card hover effect - standard */
@utility card-hover {
  @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-lg;
}

/* Card hover effect - with glow */
@utility card-hover-glow {
  @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-xl;
}

.card-hover-glow:hover {
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04),
    0 0 30px -5px rgba(221, 101, 87, 0.15);
}

:is(.dark .card-hover-glow):hover {
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.3),
    0 10px 10px -5px rgba(0, 0, 0, 0.2),
    0 0 30px -5px rgba(221, 101, 87, 0.25);
}

/* Button hover effect - scale with shadow */
@utility btn-hover {
  @apply transition-all duration-200 hover:scale-105 active:scale-100;
}

/* Link underline animation */
@utility link-underline {
  background-image: linear-gradient(
    transparent calc(100% - 2px),
    currentColor 2px
  );
  background-size: 0% 100%;
  background-position: 0 100%;
  background-repeat: no-repeat;
  transition: background-size 0.3s ease;
}

.link-underline:hover {
  background-size: 100% 100%;
}

/* Subtle divider */
@utility divider {
  @apply h-px bg-gradient-to-r from-transparent via-stone-300 dark:via-stone-700 to-transparent;
}

/* Theme toggle button active state */
.theme-btn[data-active="true"] {
  @apply bg-white dark:bg-stone-800 text-stone-900 dark:text-stone-50 shadow-sm;
}

/* ==========================================================================
   Prose Styling (for non-post content)
   ========================================================================== */

.prose a {
  @apply text-brand-700 dark:text-brand-400 no-underline transition-colors duration-200;
  background-image: linear-gradient(
    transparent calc(100% - 2px),
    currentColor 2px
  );
  background-size: 100% 100%;
  background-position: 0 100%;
}

.prose a:hover {
  @apply text-brand-800 dark:text-brand-300;
}

/* External link indicator */
.prose a[href^="http"]:not([href*="jcmcginnis.com"])::after {
  content: " ↗";
  @apply text-[0.7em] opacity-50 align-super;
}

/* Blockquote styling */
.prose blockquote {
  @apply border-l-4 border-brand-400 dark:border-brand-600 font-serif not-italic text-stone-700 dark:text-stone-300;
}

/* Headings in prose use serif */
.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  @apply font-serif;
}

/* ==========================================================================
   Blog Post Content Styling - Distinctive Editorial Treatment
   ========================================================================== */

.post-content {
  /* Base typography - serif for elevated editorial feel */
  font-family: var(--font-serif);
  font-size: 1.125rem;
  line-height: 1.85;
  color: var(--color-stone-700);
}

:is(.dark) .post-content {
  color: var(--color-stone-300);
}

/* Paragraphs */
.post-content p {
  margin-bottom: 1.75em;
}

/* First paragraph - larger intro */
.post-content > p:first-of-type {
  font-size: 1.25rem;
  line-height: 1.7;
  color: var(--color-stone-800);
}

:is(.dark) .post-content > p:first-of-type {
  color: var(--color-stone-200);
}

/* Links - clean underline */
.post-content a {
  color: var(--color-brand-700);
  text-decoration: underline;
  text-decoration-color: var(--color-brand-300);
  text-underline-offset: 3px;
  text-decoration-thickness: 2px;
  transition: all 0.15s ease;
}

:is(.dark) .post-content a {
  color: var(--color-brand-400);
  text-decoration-color: var(--color-brand-700);
}

.post-content a:hover {
  color: var(--color-brand-800);
  text-decoration-color: var(--color-brand-500);
}

:is(.dark) .post-content a:hover {
  color: var(--color-brand-300);
  text-decoration-color: var(--color-brand-400);
}

/* External link indicator */
.post-content a[href^="http"]:not([href*="jcmcginnis.com"])::after {
  content: " ↗";
  font-size: 0.7em;
  opacity: 0.5;
  vertical-align: super;
}

/* Headings - editorial serif with subtle accents */
.post-content h2 {
  font-family: var(--font-serif);
  font-size: 1.75rem;
  font-weight: 600;
  color: var(--color-stone-900);
  margin-top: 3.5rem;
  margin-bottom: 1.25rem;
  letter-spacing: -0.02em;
  line-height: 1.2;
  padding-top: 1.5rem;
  border-top: 1px solid var(--color-stone-200);
}

:is(.dark) .post-content h2 {
  color: var(--color-stone-100);
  border-top-color: var(--color-stone-800);
}

/* First h2 after lead paragraph - no border */
.post-content > p:first-of-type + h2,
.post-content > h2:first-child {
  border-top: none;
  padding-top: 0;
  margin-top: 2.5rem;
}

.post-content h3 {
  font-family: var(--font-serif);
  font-size: 1.35rem;
  font-weight: 600;
  color: var(--color-stone-900);
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  letter-spacing: -0.01em;
  line-height: 1.3;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.post-content h3::before {
  content: "";
  width: 3px;
  height: 1.1em;
  background: var(--color-brand-500);
  border-radius: 2px;
  flex-shrink: 0;
}

:is(.dark) .post-content h3 {
  color: var(--color-stone-100);
}

:is(.dark) .post-content h3::before {
  background: var(--color-brand-400);
}

.post-content h4 {
  font-family: var(--font-serif);
  font-size: 1.15rem;
  font-weight: 600;
  color: var(--color-stone-800);
  margin-top: 2rem;
  margin-bottom: 0.75rem;
}

:is(.dark) .post-content h4 {
  color: var(--color-stone-200);
}

/* Strong - brand accent */
.post-content strong {
  font-weight: 600;
  color: var(--color-stone-900);
}

:is(.dark) .post-content strong {
  color: var(--color-stone-100);
}

/* Emphasis - subtle styling, same font family for cohesion */
.post-content em {
  font-style: italic;
  color: var(--color-stone-800);
}

:is(.dark) .post-content em {
  color: var(--color-stone-200);
}

/* Blockquotes - pull quote treatment */
.post-content blockquote {
  position: relative;
  margin: 2.5rem 0;
  padding: 1.5rem 0 1.5rem 2rem;
  border-left: 4px solid var(--color-brand-400);
  background: transparent;
  font-family: var(--font-serif);
  font-size: 1.25rem;
  line-height: 1.6;
  color: var(--color-stone-700);
}

:is(.dark) .post-content blockquote {
  border-left-color: var(--color-brand-600);
  color: var(--color-stone-300);
}

.post-content blockquote p {
  margin-bottom: 0;
}

.post-content blockquote p:not(:last-child) {
  margin-bottom: 1em;
}

/* Code inline - monospace accent */
.post-content code {
  font-family:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;
  font-size: 0.875em;
  background: var(--color-stone-100);
  color: var(--color-brand-700);
  padding: 0.15em 0.4em;
  border-radius: 0.25rem;
}

:is(.dark) .post-content code {
  background: var(--color-stone-800);
  color: var(--color-brand-400);
}

/* Code blocks */
.post-content pre {
  margin: 2rem 0;
  padding: 1.25rem 1.5rem;
  background: var(--color-stone-900);
  border-radius: 0.75rem;
  overflow-x: auto;
  font-size: 0.875rem;
  line-height: 1.7;
}

.post-content pre code {
  background: transparent;
  color: var(--color-stone-300);
  padding: 0;
  font-size: inherit;
}

/* Lists - indented from body text */
.post-content ul,
.post-content ol {
  margin: 0.75rem 0 1.5rem 0;
  margin-left: 1.25rem;
  padding-left: 1.75rem;
  list-style-position: outside;
}

.post-content ul {
  list-style-type: disc;
}

.post-content ol {
  list-style-type: decimal;
}

.post-content ul li,
.post-content ol li {
  margin-bottom: 0.5rem;
  padding-left: 0.25rem;
}

.post-content ul li::marker,
.post-content ol li::marker {
  color: var(--color-brand-600);
  font-weight: 600;
}

:is(.dark) .post-content ul li::marker,
:is(.dark) .post-content ol li::marker {
  color: var(--color-brand-400);
}

/* Horizontal rules - decorative */
.post-content hr {
  margin: 3rem auto;
  border: none;
  width: 100%;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--color-stone-300) 20%,
    var(--color-stone-300) 80%,
    transparent
  );
}

:is(.dark) .post-content hr {
  background: linear-gradient(
    90deg,
    transparent,
    var(--color-stone-700) 20%,
    var(--color-stone-700) 80%,
    transparent
  );
}

/* Images */
.post-content img {
  margin: 2rem auto;
  border-radius: 0.75rem;
  box-shadow:
    0 10px 15px -3px rgba(0, 0, 0, 0.1),
    0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Figure captions */
.post-content figcaption {
  text-align: center;
  font-size: 0.875rem;
  color: var(--color-stone-500);
  margin-top: 0.75rem;
}

/* Tables */
.post-content table {
  width: 100%;
  margin: 2rem 0;
  border-collapse: collapse;
  font-size: 0.95rem;
}

.post-content th {
  text-align: left;
  padding: 0.75rem 1rem;
  background: var(--color-stone-100);
  font-weight: 600;
  color: var(--color-stone-900);
  border-bottom: 2px solid var(--color-stone-200);
}

:is(.dark) .post-content th {
  background: var(--color-stone-800);
  color: var(--color-stone-100);
  border-bottom-color: var(--color-stone-700);
}

.post-content td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--color-stone-200);
}

:is(.dark) .post-content td {
  border-bottom-color: var(--color-stone-800);
}

/* Footnotes (if using kramdown) */
.post-content .footnotes {
  margin-top: 3rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--color-stone-200);
  font-size: 0.9rem;
  color: var(--color-stone-600);
}

:is(.dark) .post-content .footnotes {
  border-top-color: var(--color-stone-800);
  color: var(--color-stone-400);
}

.post-content .footnotes ol {
  padding-left: 1.25rem;
}

/* Abbreviations */
.post-content abbr[title] {
  text-decoration: underline dotted;
  cursor: help;
}

/* Drop cap for first letter (optional - activated via class) */
.post-content.drop-cap > p:first-of-type::first-letter {
  float: left;
  font-family: var(--font-serif);
  font-size: 4rem;
  font-weight: 600;
  line-height: 0.8;
  margin-right: 0.75rem;
  margin-top: 0.25rem;
  color: var(--color-brand-600);
}

:is(.dark) .post-content.drop-cap > p:first-of-type::first-letter {
  color: var(--color-brand-400);
}

/* ==========================================================================
   Sagan Quote - Progressive Text Fade
   ========================================================================== */

.sagan-paragraph {
  /* Subtle fade based on paragraph index */
  color: color-mix(
    in oklch,
    var(--color-stone-100) calc(100% - var(--paragraph-index) * 18%),
    var(--color-stone-500) calc(var(--paragraph-index) * 18%)
  );
  transition: color 0.3s ease;
}

/* Fallback for browsers without color-mix */
@supports not (color: color-mix(in oklch, white, black)) {
  .sagan-paragraph {
    color: var(--color-stone-300);
  }
}

/* ==========================================================================
   Mobile Navigation
   ========================================================================== */

.mobile-drawer {
  max-height: 0;
  overflow: hidden;
  transition:
    max-height 200ms ease-out,
    opacity 200ms ease-out;
  opacity: 0;
}

.mobile-drawer.drawer-open {
  max-height: 100vh;
  opacity: 1;
}

body.mobile-menu-open {
  overflow: hidden;
}

@media (min-width: 768px) {
  body.mobile-menu-open {
    overflow: auto;
  }
}

/* ==========================================================================
   Homepage Hero Effects
   ========================================================================== */

/* Subtle grain texture overlay */
@utility bg-grain {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  opacity: 0.03;
}

/* Decorative accent line */
@utility accent-line {
  @apply w-16 h-1 bg-gradient-to-r from-brand-500 to-accent-500 rounded-full;
}

/* Section divider with icon */
@utility section-divider {
  @apply flex items-center justify-center gap-4 py-8;
}

/* Pull quote styling */
@utility pull-quote {
  @apply font-serif text-2xl md:text-3xl italic text-stone-700 dark:text-stone-300 leading-relaxed;
}

/* ==========================================================================
   Decorative Elements Library
   ========================================================================== */

/* Geometric square decoration */
@utility deco-square {
  @apply w-24 h-24 border-2 border-brand-300/30 dark:border-brand-700/30 rotate-12;
}

/* Circle decoration */
@utility deco-circle {
  @apply w-16 h-16 bg-accent-400/20 dark:bg-accent-600/10 rounded-full;
}

/* Small diamond decoration */
@utility deco-diamond {
  @apply w-4 h-4 bg-brand-500/30 rotate-45;
}

/* Gradient orb - large ambient blob */
@utility gradient-orb {
  @apply absolute rounded-full blur-3xl pointer-events-none;
}

/* Pattern overlay texture */
@utility pattern-plus {
  background-image: url("data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.05%22%3E%3Cpath%20d%3D%22M36%2034v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6%2034v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6%204V0H4v4H0v2h4v4h2V6h4V4H6z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}

/* ==========================================================================
   Accent Zone - Dark contrast sections (reusable across pages)
   ========================================================================== */

/* Base styling for accent zones - high contrast dark sections */
.accent-zone {
  /* Force white text throughout */
  color: var(--color-stone-100);

  /* Default background - can be overridden */
  background: linear-gradient(
    to bottom,
    rgb(28, 25, 23) 0%,
    rgb(12, 10, 9) 50%,
    rgb(28, 25, 23) 100%
  );
}

/* Accent zone links */
.accent-zone a:not(.btn) {
  color: var(--color-brand-400);
}

.accent-zone a:not(.btn):hover {
  color: var(--color-brand-300);
}

/* Accent zone text overrides for consistent contrast */
.accent-zone h1,
.accent-zone h2,
.accent-zone h3,
.accent-zone h4,
.accent-zone h5,
.accent-zone h6 {
  color: white;
}

.accent-zone p {
  color: var(--color-stone-300);
}

/* ==========================================================================
   Dark Mode Enhancements
   ========================================================================== */

/* Enhanced dark mode shadows */
:is(.dark) .shadow-xl {
  --tw-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
}

:is(.dark) .shadow-2xl {
  --tw-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

/* Dark mode glow visibility boost */
:is(.dark) .gradient-orb {
  opacity: 0.8;
}

/* Dark mode decorative elements visibility */
:is(.dark) .deco-square {
  border-color: rgba(221, 101, 87, 0.2);
}

:is(.dark) .deco-circle {
  background-color: rgba(245, 158, 11, 0.15);
}

/* Dark mode input styling */
:is(.dark) input,
:is(.dark) textarea {
  background-color: var(--color-stone-800);
  border-color: var(--color-stone-700);
}

:is(.dark) input:focus,
:is(.dark) textarea:focus {
  border-color: var(--color-brand-500);
}

/* Dark mode selection styling */
:is(.dark) ::selection {
  background-color: var(--color-stone-700);
  color: var(--color-brand-300);
}

/* ==========================================================================
   Scroll-triggered reveal animations (CSS-based)
   ========================================================================== */

/* Default: content is visible (no JS required) */
.reveal-on-scroll {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 0.5s ease-out,
    transform 0.5s ease-out;
}

/* When JS adds this class, elements start hidden */
.reveal-ready .reveal-on-scroll {
  opacity: 0;
  transform: translateY(20px);
}

/* Revealed state */
.reveal-ready .reveal-on-scroll.revealed {
  opacity: 1;
  transform: translateY(0);
}

/* Directional variants */
.reveal-ready .reveal-on-scroll[data-side="left"] {
  transform: translateX(-30px);
}

.reveal-ready .reveal-on-scroll[data-side="right"] {
  transform: translateX(30px);
}

.reveal-ready .reveal-on-scroll[data-side="left"].revealed,
.reveal-ready .reveal-on-scroll[data-side="right"].revealed {
  transform: translateX(0);
}

/* Staggered reveal delays using CSS custom property */
.reveal-ready .reveal-on-scroll {
  transition-delay: calc(var(--stagger, 0) * 100ms);
}

/* ==========================================================================
   Interactive Element Focus States
   ========================================================================== */

/* Focus ring for accessibility */
@utility focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-stone-900;
}

/* ==========================================================================
   Additional Transition Utilities
   ========================================================================== */

/* Smooth color transition */
@utility transition-colors-smooth {
  @apply transition-colors duration-200 ease-out;
}

/* Smooth transform transition */
@utility transition-transform-smooth {
  @apply transition-transform duration-300 ease-out;
}

/* All properties transition */
@utility transition-all-smooth {
  @apply transition-all duration-300 ease-out;
}
