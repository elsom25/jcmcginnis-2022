{
  "version": 3,
  "sources": ["../../../frontend/javascript/reveal-animations.js", "../../../frontend/javascript/timeline.js", "../../../frontend/javascript/reading-progress.js", "../../../frontend/javascript/index.js"],
  "sourcesContent": ["/**\n * Reveal Animations\n * CSS-based scroll-triggered reveal animations using IntersectionObserver.\n * No library required - works with CSS classes.\n */\nexport function initRevealAnimations() {\n  // Mark document as JS-ready for CSS reveal animations\n  document.body.classList.add(\"reveal-ready\");\n\n  const revealObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          entry.target.classList.add(\"revealed\");\n          revealObserver.unobserve(entry.target); // Only animate once\n        }\n      });\n    },\n    {\n      threshold: 0.1,\n      rootMargin: \"0px 0px -50px 0px\",\n    },\n  );\n\n  document\n    .querySelectorAll(\".reveal-on-scroll\")\n    .forEach((el) => revealObserver.observe(el));\n}\n", "/**\n * Timeline Fill Animation (Homepage)\n * GSAP ScrollTrigger-powered timeline that fills as user scrolls through career eras.\n * Dynamically imported only on index page.\n */\nexport function initTimelineFill() {\n  const track = document.getElementById(\"timeline-track\");\n  const fill = document.getElementById(\"timeline-fill\");\n  const glow = document.getElementById(\"timeline-glow\");\n  const thesis = document.getElementById(\"thesis-card\");\n  const container = document.getElementById(\"timeline-container\");\n  const firstLesson = document.querySelector(\".lesson-panel\");\n\n  if (!track || !fill || !glow || !thesis || !container || !firstLesson) return;\n\n  // Wait for GSAP\n  const check = setInterval(() => {\n    if (typeof gsap !== \"undefined\" && typeof ScrollTrigger !== \"undefined\") {\n      clearInterval(check);\n      gsap.registerPlugin(ScrollTrigger);\n      setupTimeline();\n    }\n  }, 50);\n  setTimeout(() => clearInterval(check), 3000);\n\n  function setupTimeline() {\n    let trackHeight = 0;\n\n    // Position timeline and glow from first lesson to thesis card top\n    function positionTimeline() {\n      const startY = firstLesson.offsetTop + 32;\n      const thesisSection = document.getElementById(\"thesis-section\");\n      const endY = thesisSection.offsetTop + thesis.offsetTop;\n\n      trackHeight = Math.max(100, endY - startY);\n\n      track.style.top = `${startY}px`;\n      track.style.height = `${trackHeight}px`;\n      glow.style.top = `${startY}px`;\n    }\n\n    positionTimeline();\n    setTimeout(positionTimeline, 100);\n    window.addEventListener(\"resize\", () => {\n      positionTimeline();\n      ScrollTrigger.refresh();\n    });\n\n    // Scroll-driven fill + glow animation\n    ScrollTrigger.create({\n      trigger: firstLesson,\n      start: \"top 50%\",\n      endTrigger: thesis,\n      end: \"top 40%\",\n      scrub: 0.3,\n      onUpdate: (self) => {\n        const progress = self.progress;\n        fill.style.height = `${progress * 100}%`;\n        glow.style.height = `${progress * trackHeight}px`;\n      },\n    });\n  }\n}\n", "/**\n * Reading Progress Bar (Blog Posts)\n * Shows reading progress based on scroll position through article.\n * Dynamically imported only on post pages.\n */\nexport function initReadingProgress() {\n  const progressBar = document.getElementById(\"progress-bar\");\n  const article = document.querySelector(\"article\");\n\n  if (!progressBar || !article) return;\n\n  window.addEventListener(\"scroll\", () => {\n    const articleTop = article.offsetTop;\n    const articleHeight = article.offsetHeight;\n    const windowHeight = window.innerHeight;\n    const scrollY = window.scrollY;\n\n    const progress = Math.min(\n      100,\n      Math.max(\n        0,\n        ((scrollY - articleTop + windowHeight * 0.3) / articleHeight) * 100,\n      ),\n    );\n\n    progressBar.style.width = `${progress}%`;\n  });\n}\n", "/**\n * Main JavaScript entry point for Bridgetown esbuild bundling.\n *\n * This file is bundled by Bridgetown's esbuild integration and output to\n * output/_bridgetown/static/ with a hashed filename.\n *\n * Use `asset_path :js` in templates to reference the bundled output.\n *\n * Note: Theme toggle and mobile menu are handled inline in _header.erb\n * because they need immediate access to the Theme global and specific HTML.\n */\n\nimport { initRevealAnimations } from \"./reveal-animations.js\";\nimport { initTimelineFill } from \"./timeline.js\";\nimport { initReadingProgress } from \"./reading-progress.js\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  initRevealAnimations();\n\n  // Page-specific initialization based on data-page attribute\n  const page = document.body.dataset.page;\n\n  if (page === \"index\") {\n    initTimelineFill();\n  }\n\n  if (page === \"post\") {\n    initReadingProgress();\n  }\n});\n"],
  "mappings": "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",
  "names": []
}
