---
layout: page
---
<%
  # Get other talks for navigation
  all_talks = collections.talks.resources.sort_by { |t| -t.data.year }
  current_index = all_talks.find_index { |t| t.relative_url == resource.relative_url }
  prev_talk = current_index && current_index < all_talks.length - 1 ? all_talks[current_index + 1] : nil
  next_talk = current_index && current_index > 0 ? all_talks[current_index - 1] : nil
%>

<article class="talk-article relative">
  <!-- Decorative elements for visual anchoring -->
  <div class="hidden lg:block absolute top-header-ghost right-[5%] w-16 h-16 border-2 border-stone-200/50 dark:border-stone-800/50 -rotate-12 opacity-60"></div>
  <div class="hidden lg:block absolute top-64 left-[8%] w-10 h-10 rounded-full border-2 border-accent-300/30 dark:border-accent-700/30"></div>

  <!-- Talk header - wider than content for visual funnel -->
  <!-- pt handled by page.erb main element -->
  <header class="relative pb-10 md:pb-12">
    <div class="max-w-4xl mx-auto px-6 md:px-8">
      <!-- Event badge - enhanced -->
      <div class="flex justify-center mb-8 animate-fade-in">
        <div class="inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gradient-to-r from-accent-100 to-accent-200 dark:from-accent-900/50 dark:to-accent-800/50 border border-accent-300/50 dark:border-accent-700/50 shadow-lg shadow-accent-500/10">
          <svg class="w-5 h-5 text-accent-600 dark:text-accent-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span class="font-semibold text-accent-700 dark:text-accent-300"><%= resource.data.event %></span>
          <span class="text-accent-400 dark:text-accent-600">·</span>
          <span class="text-accent-600 dark:text-accent-400"><%= resource.data.year %></span>
          <% if resource.data.type == "workshop" %>
            <span class="px-2 py-0.5 text-xs font-medium uppercase tracking-wider bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 rounded">Workshop</span>
          <% end %>
        </div>
      </div>

      <!-- Title -->
      <h1 class="text-hero text-3xl md:text-4xl lg:text-5xl xl:text-6xl text-stone-900 dark:text-stone-100 mb-6 text-center animate-fade-in animate-delay-1">
        <%= resource.data.title %>
      </h1>

      <% if resource.data.description %>
        <p class="text-xl md:text-2xl text-stone-600 dark:text-stone-400 max-w-2xl mx-auto leading-relaxed text-center animate-fade-in animate-delay-2">
          <%= resource.data.description %>
        </p>
      <% end %>
    </div>
  </header>

  <!-- Quick action buttons - enhanced with glow -->
  <% if resource.data.video_url || resource.data.slides_url %>
    <div class="max-w-4xl mx-auto px-6 md:px-8 flex flex-wrap items-center justify-center gap-4 mb-12 animate-fade-in animate-delay-2">
      <% if resource.data.video_url %>
        <a href="<%= resource.data.video_url %>" class="group relative inline-flex items-center gap-3 px-8 py-4 bg-stone-900 dark:bg-stone-100 text-white dark:text-stone-900 font-semibold rounded-full transition-all hover:scale-105 shadow-lg" rel="external" target="_blank">
          <!-- Glow effect on hover -->
          <div class="absolute -inset-1 bg-gradient-to-r from-accent-500 to-accent-600 rounded-full blur opacity-0 group-hover:opacity-40 transition-opacity"></div>
          <div class="relative flex items-center gap-3">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Watch video
          </div>
        </a>
      <% end %>
      <% if resource.data.slides_url %>
        <a href="<%= resource.data.slides_url %>" class="inline-flex items-center gap-3 px-8 py-4 bg-stone-100 dark:bg-stone-800 hover:bg-stone-200 dark:hover:bg-stone-700 text-stone-900 dark:text-stone-100 font-semibold rounded-full transition-all shadow-lg" rel="external" target="_blank">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
          View slides
        </a>
      <% end %>
    </div>
  <% end %>

  <!-- Decorative divider with accent color -->
  <div class="max-w-4xl mx-auto px-6 md:px-8 flex items-center justify-center gap-6 mb-12 animate-fade-in animate-delay-3" aria-hidden="true">
    <span class="flex-grow max-w-32 h-px bg-gradient-to-r from-transparent to-accent-300 dark:to-accent-800"></span>
    <svg class="w-6 h-6 text-accent-400 dark:text-accent-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
    </svg>
    <span class="flex-grow max-w-32 h-px bg-gradient-to-l from-transparent to-accent-300 dark:to-accent-800"></span>
  </div>

  <!-- Talk content with accent-themed blockquotes - narrower for visual funnel -->
  <div class="max-w-3xl mx-auto px-6 md:px-8 prose prose-lg prose-quoteless prose-stone dark:prose-invert
    prose-headings:font-serif prose-headings:font-semibold prose-headings:tracking-tight
    prose-p:leading-relaxed prose-p:text-stone-700 dark:prose-p:text-stone-300
    prose-a:font-medium prose-a:text-accent-600 dark:prose-a:text-accent-400
    prose-blockquote:border-l-4 prose-blockquote:border-accent-400 dark:prose-blockquote:border-accent-600
    prose-blockquote:font-serif prose-blockquote:not-italic prose-blockquote:text-xl
    prose-strong:text-stone-900 dark:prose-strong:text-stone-100
    animate-fade-in animate-delay-3">
    <%= yield %>
  </div>

  <!-- Talk footer with navigation -->
  <footer class="max-w-3xl mx-auto px-6 md:px-8 mt-16 pt-8 border-t border-stone-200 dark:border-stone-800">
    <!-- Back link and share -->
    <div class="flex items-center justify-between mb-12">
      <a href="/talks/" class="group inline-flex items-center gap-2 text-accent-600 dark:text-accent-400 font-semibold hover:gap-3 transition-all">
        <svg class="w-5 h-5 group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
        </svg>
        Back to speaking
      </a>
      <a href="https://twitter.com/intent/tweet?text=<%= CGI.escape(resource.data.title) %>&url=<%= CGI.escape("https://jcmcginnis.com#{resource.relative_url}") %>" class="inline-flex items-center gap-2 text-sm text-stone-500 dark:text-stone-500 hover:text-accent-600 dark:hover:text-accent-400 transition-colors" target="_blank" rel="external noopener">
        <svg viewBox="0 0 24 24" class="w-4 h-4 fill-current">
          <path d="M13.3174 10.7749L19.1457 4H17.7646L12.7039 9.88256L8.66193 4H4L10.1122 12.8955L4 20H5.38119L10.7254 13.7878L14.994 20H19.656L13.3171 10.7749H13.3174ZM11.4257 12.9738L10.8064 12.0881L5.87886 5.03974H8.00029L11.9769 10.728L12.5962 11.6137L17.7652 19.0075H15.6438L11.4257 12.9742V12.9738Z"></path>
        </svg>
        Share on X
      </a>
    </div>

    <!-- Other talks navigation -->
    <% if prev_talk || next_talk %>
      <div class="pt-8 border-t border-stone-200 dark:border-stone-800">
        <h3 class="font-serif text-xl font-semibold text-stone-900 dark:text-stone-100 mb-6">More talks</h3>
        <div class="grid sm:grid-cols-2 gap-6">
          <% if prev_talk %>
            <a href="<%= prev_talk.relative_url %>" class="group block p-6 rounded-xl bg-stone-50 dark:bg-stone-900/50 border border-stone-200 dark:border-stone-800 transition-all hover:shadow-lg hover:-translate-y-1 hover:border-accent-300 dark:hover:border-accent-700">
              <span class="text-xs text-stone-400 dark:text-stone-600"><%= prev_talk.data.event %> · <%= prev_talk.data.year %></span>
              <h4 class="font-serif text-lg font-semibold text-stone-900 dark:text-stone-100 mt-2 group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors">
                <%= prev_talk.data.title %>
              </h4>
            </a>
          <% else %>
            <div></div>
          <% end %>
          <% if next_talk %>
            <a href="<%= next_talk.relative_url %>" class="group block p-6 rounded-xl bg-stone-50 dark:bg-stone-900/50 border border-stone-200 dark:border-stone-800 transition-all hover:shadow-lg hover:-translate-y-1 hover:border-accent-300 dark:hover:border-accent-700">
              <span class="text-xs text-stone-400 dark:text-stone-600"><%= next_talk.data.event %> · <%= next_talk.data.year %></span>
              <h4 class="font-serif text-lg font-semibold text-stone-900 dark:text-stone-100 mt-2 group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors">
                <%= next_talk.data.title %>
              </h4>
            </a>
          <% end %>
        </div>
      </div>
    <% end %>
  </footer>
</article>
