<!DOCTYPE html>
<html lang="en-ca" class="scroll-smooth min-h-full antialiased">
  <head>
    <meta charset="utf-8">
    <meta content="ie=edge" http-equiv="x-ua-compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta name="theme-color" content="#be195c">
    <meta name="view-transition" content="same-origin">
    <link rel="icon" href="<%= relative_url '/favicon.svg' %>">
    <link rel="mask-icon" href="<%= relative_url '/favicon.svg' %>" color="#be195c">
    <link rel="apple-touch-icon" href="<%= relative_url '/apple-touch-icon' %>">
    <link rel="manifest" href="<%= relative_url '/manifest.json' %>">
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,400;0,6..72,500;0,6..72,600;1,6..72,400;1,6..72,500&display=swap" rel="stylesheet">
    <script>
      // Theme initialization - prevents flash of wrong theme
      (function() {
        const stored = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (stored === 'dark' || (stored === 'system' && prefersDark) || (!stored && prefersDark)) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      })();
    </script>
    <%= live_reload_dev_js %>
    <%= render "head" %>
    <%= seo %>
    <%= feed_meta %>
  </head>
  <body class="page flex min-h-full bg-[#faf9f7] text-stone-800 selection:bg-stone-200 selection:text-violet-700 dark:bg-[#0c0a09] dark:text-stone-200 dark:selection:bg-stone-700 dark:selection:text-violet-300" id="page-top">
    <div class="flex w-full">
      <%= yield %>
    </div>
  </body>
</html>
