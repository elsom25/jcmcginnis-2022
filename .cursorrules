# Cursor Rules for jcmcginnis.com

## Project Overview

Personal website and blog for Jesse McGinnis, built with Jekyll 4.3 and Tailwind CSS 4. Deployed to GitHub Pages via GitHub Actions.

**Live site:** https://jcmcginnis.com

## Tech Stack

- **Static Site Generator:** Jekyll 4.3
- **CSS Framework:** Tailwind CSS 4 with @tailwindcss/typography plugin
- **CSS Processing:** Tailwind CLI (CSS-based configuration in `src/css/style.css`)
- **Templating:** Liquid templates
- **Fonts:** Inter variable font (loaded from rsms.me CDN)
- **Formatting:** Prettier with @shopify/prettier-plugin-liquid

## Development Commands

```bash
# Start dev server with live reload and drafts
bin/serve

# Build for production
bin/build

# Format code
npx prettier --write .
```

Dev server runs at `http://localhost:4000`

## File Structure

```
_layouts/          # Template hierarchy: base.html → default.html → post.html
_includes/         # Reusable components (header.html, footer.html)
_posts/            # Blog posts in Markdown with YAML frontmatter
_data/             # Structured data (menu.yml for navigation)
category/          # Category landing pages
src/css/           # Source CSS with Tailwind v4 configuration
assets/css/        # Built CSS output (style.css, syntax.css)
assets/img/        # Post images
```

## Tailwind CSS v4 Configuration

All Tailwind configuration is now in CSS at `src/css/style.css`:

```css
@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Content sources for Tailwind to scan */
@source "../../_layouts/**/*.html";
@source "../../_includes/**/*.html";
/* etc. */

/* Theme customization */
@theme {
  --font-sans: "Inter var", ui-sans-serif, system-ui, sans-serif;
}

/* Custom utilities */
@utility prose-quoteless {
  /* styles */
}
```

## Template Hierarchy

1. `base.html` - Root HTML structure, `<head>`, font loading, dark mode
2. `default.html` - Inherits base, adds header/footer/navigation wrapper
3. `post.html` - Blog post layout with date, categories, prose styling
4. `category.html` - Category archive pages

## Writing Guidelines

### Blog Posts

Posts live in `_posts/` with naming convention: `YYYY-MM-DD-slug.md`

Required frontmatter:
```yaml
---
title: "Post Title"
permalink: /blog/post-slug/
---
```

Optional frontmatter:
```yaml
home: true           # Show on homepage rotation
description: "..."   # Subtitle displayed below title
image: /assets/img/post-image.jpg
categories:
  - Leadership       # Available: Leadership, Musings, Talks & Workshops
```

### Content URLs

- Posts output to: `/blog/:title/`
- Categories at: `/category/:basename/`

## Styling Conventions

### Tailwind Classes

- Use Tailwind utility classes directly in HTML
- Dark mode: Use `dark:` variant (e.g., `dark:bg-zinc-900`)
- Typography: Use `prose` classes from @tailwindcss/typography for content
- Custom utility `prose-quoteless` removes blockquote decorations

### Color Palette

- **Primary accent:** Rose (`rose-700`, `rose-800`)
- **Background:** Zinc scale (`zinc-50` light, `black`/`zinc-900` dark)
- **Text:** Zinc scale (`zinc-700` light, `zinc-200` dark)
- **Gradient accent:** `bg-gradient-to-tr from-sky-500 via-indigo-500 to-rose-500`
- **Theme color:** `#be195c` (rose)

### Responsive Breakpoints

Follow Tailwind defaults:
- `sm:` → 640px
- `md:` → 768px
- `lg:` → 1024px

Max content width: `max-w-screen-lg` (1024px)

## Liquid Template Patterns

### Conditional content
```liquid
{% if page.image %}
  <img src="{{ page.image }}" alt="" />
{% endif %}
```

### Loops with data
```liquid
{% for item in site.data.menu.main %}
  <a href="{{ item.url | relative_url }}">{{ item.name }}</a>
{% endfor %}
```

### Cache busting (production only)
```liquid
{% unless jekyll.environment == "development" %}
  {% assign cacheBust = site.time | date:'?v=%s' %}
{% endunless %}
<link href="{{ '/assets/css/style.css' | relative_url | append: cacheBust }}" rel="stylesheet">
```

## Code Style

- 2-space indentation for HTML, CSS, JS, YAML, JSON
- LF line endings
- UTF-8 encoding
- Final newline required
- Run `npx prettier --write .` before committing

## Common Tasks

### Adding a new blog post
1. Create `_posts/YYYY-MM-DD-slug.md`
2. Add required frontmatter (title, permalink)
3. Add optional frontmatter (categories, image, description, home)
4. Write content in Markdown
5. Add image to `assets/img/` if needed

### Adding a navigation item
Edit `_data/menu.yml`:
```yaml
main:
  - name: "New Page"
    url: "/new-page/"
```

### Adding a new category
1. Create `category/new-category.md`
2. Add frontmatter with layout: category and appropriate title

### Customizing theme (Tailwind v4)
Edit `src/css/style.css` and use CSS-native configuration:
```css
@theme {
  --color-primary: oklch(0.65 0.25 15);
  --font-display: "Custom Font", sans-serif;
}
```

## Important Notes

- Jekyll processes Liquid in files with frontmatter (even empty `---\n---`)
- CSS is built by Tailwind CLI, output to `assets/css/style.css`
- Tailwind scans files defined via `@source` directives in `src/css/style.css`
- Production builds use `--minify` flag for CSS optimization
- SEO handled by jekyll-seo-tag plugin
- RSS feed generated by jekyll-feed plugin
